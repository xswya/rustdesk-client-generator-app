# RustDesk Client Generator 部署指南

## 问题分析

您在服务器上部署项目后遇到无法访问的问题，这通常是由于以下原因：

1. **路径配置问题**：Vite配置中使用了绝对路径 (`/rustdesk-client-generator-app/`)，这在不同的服务器环境中可能不适用
2. **资源引用问题**：HTML文件中的资源引用使用了绝对路径，导致在某些部署环境中无法正确加载

## 已做的修改

我已经对项目进行了以下优化，使其更适合在各种服务器环境中部署：

1. **修改了Vite配置**：
   - 将 `base` 设置为相对路径 `'./'`，这样应用可以在任何路径下运行
   - 关闭了生产环境的 `sourcemap` 以减小构建文件大小
   - 修复了 `defineConfig` 的导入问题

2. **修改了HTML文件**：
   - 将所有资源引用从绝对路径 (`/`) 改为相对路径 (`./`)

## 部署步骤

### 1. 构建项目

在项目根目录下运行以下命令构建生产版本：

```bash
npm run build
```

这将在 `dist` 目录中生成优化后的生产版本文件。

### 2. 部署到服务器

将 `dist` 目录中的所有文件复制到您的Web服务器的相应目录中。您可以使用任何Web服务器来托管这些文件，例如：

- **Nginx**
- **Apache**
- **IIS**
- **GitHub Pages**（使用 `npm run deploy` 命令）

### 3. 配置Web服务器（如需要）

如果您使用的是Nginx等Web服务器，可能需要添加一些基本配置以确保SPA（单页应用）路由正常工作。

以下是Nginx的基本配置示例：

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/your/dist/folder;

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

这个配置确保当访问不存在的文件时，服务器会返回index.html，这对于SPA应用的路由至关重要。

## 验证部署

部署完成后，可以通过以下方式验证：

1. 直接在浏览器中访问您的服务器地址
2. 检查网络请求确保所有资源都能正确加载
3. 测试应用的所有功能是否正常工作

## 常见问题排查

如果部署后仍然遇到问题：

1. **检查文件权限**：确保Web服务器用户有足够的权限访问所有文件
2. **检查CORS设置**：如果您的API位于不同的域，可能需要配置CORS
3. **查看浏览器控制台**：检查是否有任何错误信息
4. **检查服务器日志**：查看Web服务器的错误日志以获取更多信息

## GitHub Pages部署

如果您想部署到GitHub Pages，可以使用项目中已有的脚本：

```bash
npm run deploy
```

这将自动构建项目并部署到GitHub Pages。